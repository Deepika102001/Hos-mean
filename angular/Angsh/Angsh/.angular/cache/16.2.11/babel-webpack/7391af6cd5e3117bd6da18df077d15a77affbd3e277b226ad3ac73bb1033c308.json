{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators, FormControl } from '@angular/forms';\nexport let PharmamedicineComponent = class PharmamedicineComponent {\n  constructor(formBuilder, http) {\n    this.formBuilder = formBuilder;\n    this.http = http;\n    this.medicine = [];\n    this.isShowForm = false;\n    this.isNewMedicineAdded = false;\n    this.isEdit = false;\n    this.deleted = -1;\n  }\n  onSubmit() {\n    console.log(this.medicineForm.value);\n  }\n  onPriceChange(event) {\n    let value = parseFloat(event.target.value);\n    // Increase price by 18%\n    let increasedPrice = value * 1.18;\n    // Decrease the increased price by 10%\n    let finalPrice = increasedPrice * 0.9;\n    // Logging the results\n    console.log('Increased Price by 18%:', increasedPrice);\n    console.log('Final Price after decreasing by 10%:', finalPrice);\n    // Set the final price to the form control\n    this.medicineForm.controls['finalPrice'].setValue(finalPrice);\n  }\n  ngOnInit() {\n    this.fetchMedicineData();\n    this.medicineForm = this.formBuilder.group({\n      medicineName: new FormControl('', [Validators.required]),\n      dosage: new FormControl('', [Validators.required]),\n      price: new FormControl('', [Validators.required]),\n      gst: new FormControl(18, [Validators.required]),\n      discount: new FormControl(10, [Validators.required]),\n      finalPrice: new FormControl('', [Validators.required])\n    });\n  }\n  fetchMedicineData() {\n    this.http.get(\"http://localhost:1111/Medicine\").subscribe(response => {\n      this.medicine = response;\n      console.log('response= ', response);\n    }, error => {\n      console.error('Error:', error);\n    });\n  }\n  onStore() {\n    let OriginalPrice = this.medicineForm.controls['price'].value;\n    if (this.isEdit) {\n      this.updateMedicine();\n    } else {\n      this.http.post(\"http://localhost:1111/newMedicine\", this.medicineForm.value).subscribe(response => {\n        console.log(response);\n      }, error => {\n        console.error('Error:', error);\n      });\n      this.fetchMedicineData();\n      this.isNewMedicineAdded = true;\n    }\n  }\n  onEdit(data) {\n    this.isEdit = true;\n    const formValues = {\n      medicineName: data.medicineName,\n      dosage: data.dosage,\n      price: data.price\n    };\n    this.medicineForm.patchValue(formValues);\n  }\n  updateMedicine() {\n    this.http.put(\"http://localhost:1111/updatemedicine\", this.medicineForm.value).subscribe(response => {\n      console.log(response);\n    }, error => {\n      console.error('Error:', error);\n    });\n    this.fetchMedicineData();\n  }\n  onDelete(name) {\n    this.http.delete(`http://localhost:1111/deletemedicine/${name}`).subscribe(response => {\n      console.log(response);\n    }, error => {\n      console.error('Error:', error);\n    });\n    this.fetchMedicineData();\n    this.deleted = -1;\n  }\n  addMethod() {\n    this.isShowForm = true;\n  }\n};\nPharmamedicineComponent = __decorate([Component({\n  selector: 'app-pharmamedicine',\n  templateUrl: './pharmamedicine.component.html',\n  styleUrls: ['./pharmamedicine.component.css']\n})], PharmamedicineComponent);","map":{"version":3,"names":["Component","Validators","FormControl","PharmamedicineComponent","constructor","formBuilder","http","medicine","isShowForm","isNewMedicineAdded","isEdit","deleted","onSubmit","console","log","medicineForm","value","onPriceChange","event","parseFloat","target","increasedPrice","finalPrice","controls","setValue","ngOnInit","fetchMedicineData","group","medicineName","required","dosage","price","gst","discount","get","subscribe","response","error","onStore","OriginalPrice","updateMedicine","post","onEdit","data","formValues","patchValue","put","onDelete","name","delete","addMethod","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\biswa\\Desktop\\New folder\\Hos-mean\\angular\\Angsh\\Angsh\\src\\app\\Pharmacist\\pharmamedicine\\pharmamedicine.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-pharmamedicine',\r\n  templateUrl: './pharmamedicine.component.html',\r\n  styleUrls: ['./pharmamedicine.component.css']\r\n})\r\nexport class PharmamedicineComponent {\r\n\r\n  medicine: any[] = [];\r\n  isShowForm:boolean = false\r\n  isNewMedicineAdded:boolean = false\r\n  isEdit:boolean = false\r\n\r\n  medicineForm!: FormGroup;\r\n\r\n  constructor(private formBuilder: FormBuilder,private http: HttpClient) {}\r\n  onSubmit() {\r\n    console.log(this.medicineForm.value);\r\n  }\r\n\r\n  deleted: number = -1;\r\n\r\n  onPriceChange(event: any) {\r\n    let value = parseFloat(event.target.value);\r\n  \r\n    // Increase price by 18%\r\n    let increasedPrice = value * 1.18;\r\n  \r\n    // Decrease the increased price by 10%\r\n    let finalPrice = increasedPrice * 0.9;\r\n  \r\n    // Logging the results\r\n    console.log('Increased Price by 18%:', increasedPrice);\r\n    console.log('Final Price after decreasing by 10%:', finalPrice);\r\n    \r\n  \r\n    // Set the final price to the form control\r\n    this.medicineForm.controls['finalPrice'].setValue(finalPrice);\r\n   \r\n  }\r\n \r\n  ngOnInit(): void {\r\n    this.fetchMedicineData();\r\n    this.medicineForm = this.formBuilder.group({\r\n      medicineName: new FormControl('',[Validators.required]),\r\n      dosage:  new FormControl('',[Validators.required]) ,\r\n      price:  new FormControl('',[Validators.required]),\r\n      gst: new FormControl(18,[Validators.required]),\r\n      discount: new FormControl(10,[Validators.required]),\r\n      finalPrice: new FormControl('',[Validators.required]),\r\n    });\r\n  }\r\n\r\n  fetchMedicineData(): void {\r\n    this.http.get<any[]>(\"http://localhost:1111/Medicine\")\r\n      .subscribe(response => {\r\n        this.medicine = response;\r\n        console.log('response= ',response);\r\n        \r\n      }, error => {\r\n        console.error('Error:', error);\r\n      });\r\n  }\r\n\r\n  onStore(){\r\n    let OriginalPrice = this.medicineForm.controls['price'].value\r\n    \r\n    if(this.isEdit){\r\n      this.updateMedicine()\r\n    }else{\r\n      this.http.post(\"http://localhost:1111/newMedicine\", this.medicineForm.value)\r\n      .subscribe(response => {\r\n        console.log(response);\r\n      }, error => {\r\n        console.error('Error:', error);\r\n      });\r\n\r\n      this.fetchMedicineData()\r\n      this.isNewMedicineAdded = true\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  onEdit(data:any){\r\n    this.isEdit = true\r\n    const formValues = {\r\n      medicineName:data.medicineName,\r\n      dosage:data.dosage,\r\n      price:data.price,\r\n    };\r\n\r\n    this.medicineForm.patchValue(formValues)\r\n  }\r\n\r\n  updateMedicine(){\r\n     this.http.put(\"http://localhost:1111/updatemedicine\", this.medicineForm.value)\r\n      .subscribe(response => {\r\n        console.log(response);\r\n      }, error => {\r\n        console.error('Error:', error);\r\n      });\r\n      this.fetchMedicineData()\r\n  }\r\n\r\n  onDelete(name:any){\r\n    this.http.delete(`http://localhost:1111/deletemedicine/${name}`)\r\n      .subscribe(response => {\r\n        console.log(response);\r\n      }, error => {\r\n        console.error('Error:', error);\r\n      });\r\n      this.fetchMedicineData()\r\n\r\n    this.deleted = -1;\r\n  }\r\n\r\n  addMethod(): void {\r\n    this.isShowForm = true\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}